var d=(t,o=500)=>{let e;return(...r)=>{clearTimeout(e),e=setTimeout(()=>t.apply(void 0,r),o)}};var n=window.matchMedia("(min-width: 430px)"),_=20;var a=t=>{t.classList.add("portfolio__item--open");let o=t.querySelector(".portfolio__description");o.style.width="100%",o.style.maxHeight=`${o.scrollHeight+_}px`},c=t=>{t.classList.remove("portfolio__item--open");let o=t.querySelector(".portfolio__description");o.style.width="0",o.style.maxHeight="0"};var x=document.querySelector(".portfolio"),k=x.querySelectorAll("a"),f=t=>{t.forEach(o=>{o.setAttribute("tabindex","-1")})},u=t=>{t.forEach(o=>{o.setAttribute("tabindex","0")})};f(k);var h=()=>{let t=document.createElement("li");return t.classList.add("portfolio__item","portfolio__item--close","portfolio__item--back"),t.style.zIndex="-1",t.setAttribute("aria-hidden","true"),t};var p=document.querySelector(".portfolio"),s=p.querySelector(".portfolio__list"),l=Array.from(s.querySelectorAll(".portfolio__item")),m=!1,y=null,L=null,g=null,I=()=>{y=window.getComputedStyle(s).gap.split(" "),L=parseFloat(y[0]),g=l[0].offsetHeight+L},S=t=>{let o=t.querySelectorAll("a");u(o),t.classList.remove("portfolio__item--close"),t.style.gridRow=`1 / ${l.length+2}`,setTimeout(()=>{a(t)},100)},T=(t,o,e)=>{let r=t.querySelectorAll("a"),i=p.querySelector(".portfolio__item--back");i.style.gridRow=`${e+1} / ${e+2}`,t.classList.add("portfolio__item--changed"),c(t),f(r),t.classList.add("portfolio__item--close"),t.style.gridRow=`${o+1} / ${o+2}`},w=t=>{l.forEach((o,e)=>{e>t?o.style.transform=`translateY(-${g}px)`:o.style.transform="translateY(0)"})},b=()=>s.classList.contains("portfolio__list--open")||document.querySelector(".portfolio__item--open"),E=(t,o)=>{let e=h();s.classList.add("portfolio__list--changed"),setTimeout(()=>{s.classList.add("portfolio__list--open"),s.appendChild(e),l.forEach((r,i)=>{r.classList.add("portfolio__item--close"),i===o?(e.style.height=`${r.scrollHeight}px`,e.style.gridRow=`${i+1} / ${i+2}`):r.style.gridRow=`${i+1} / ${i+2}`}),I(),s.classList.remove("portfolio__list--changed"),S(t),w(o)},200)},q=t=>{let o=p.querySelector(".portfolio__item--open");if(t&&n.matches&&t!==o){let e=s.querySelector(".portfolio__item--open"),r=l.indexOf(e),i=l.indexOf(t);if(!b()){E(t,i),m=!0;return}t.classList.add("portfolio__item--changed"),w(i),T(e,r,i),setTimeout(()=>{S(t,i),t.classList.remove("portfolio__item--changed"),e.classList.remove("portfolio__item--changed")},100)}if(t&&!n.matches){let e=s.querySelector(".portfolio__item--open");t.classList.contains("portfolio__item--open")?c(t):(e&&c(e),a(t))}};s.addEventListener("click",t=>{if(document.activeElement.contains(t.target)&&document.activeElement.classList.contains("portfolio__item--open"))return;let o=t.target.closest("li");q(o)});s.addEventListener("keydown",t=>{let o=document.activeElement;t.key==="Enter"&&document.activeElement.tagName==="LI"&&q(o)});var R=()=>{if(b()){let t=s.querySelector(".portfolio__item--open"),o=l.indexOf(t);n.matches&&!m&&(l.forEach(e=>{e.classList.remove("portfolio__item--mobile")}),c(t),setTimeout(()=>{E(t,o)},50),m=!0),!n.matches&&m&&(c(t),p.querySelector(".portfolio__item--back").remove(),s.classList.remove("portfolio__list--open"),l.forEach(e=>{e.classList.remove("portfolio__item--close"),e.classList.add("portfolio__item--mobile"),e.style.gridRow="unset",e.style.transform="translateY(0)"}),a(t),m=!1)}},$=d(R,50);window.addEventListener("resize",$);
